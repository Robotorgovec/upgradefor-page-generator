<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="noindex, nofollow">
  <title>–ò–º–µ–Ω–Ω–æ–π –¥–æ–º–µ–Ω .–†–£–° –¥–ª—è {{user_name}} | UpgradeFor</title>
  <link
    rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,200,0,0"
  >
  <link rel="stylesheet" href="/assets/layout.css">
  <style>
    .deadline-badge {
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 12px 14px;
      border: 1px solid var(--line);
      border-radius: var(--r-card);
      background: var(--surface);
      box-shadow: var(--shadow);
    }
    .deadline-value {
      font-size: clamp(20px, 3vw, 28px);
      font-weight: 700;
      letter-spacing: 0.04em;
    }
    .deadline-urgent .deadline-value {
      font-weight: 800;
    }
    .deadline-badge.expired .deadline-value {
      font-weight: 700;
    }
  </style>
</head>
<body class="is-home">
  <a class="skip" href="#main">–ö —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—é</a>

  <header></header>
  <aside class="sidebar" aria-hidden="true"></aside>

  <main id="main" class="app-content">
    <section class="wrap hero" aria-labelledby="hero-title">
      <div>
        <h1 id="hero-title">–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, <span data-user-name>{{user_name}}</span>!</h1>
        <p class="lead">–í–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –¥–æ–º–µ–Ω —É–∂–µ –¥–æ—Å—Ç—É–ø–µ–Ω:</p>
        <p style="font-size:clamp(22px,4vw,40px);font-weight:700;margin:0 0 var(--space-1)"><span data-user-domain>{{user_domain}}</span></p>
        <p class="lead" id="domain-status">üü¢ –î–æ–º–µ–Ω –¥–æ—Å—Ç—É–ø–µ–Ω –∏ –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω –∑–∞ –≤–∞–º–∏</p>
        <div class="cta" style="display:flex;gap:12px;margin-top:var(--space-3);flex-wrap:wrap">
          <a class="btn" href="#form" data-cta-link="primary" data-event="cta_click" data-location="hero">–û—Ñ–æ—Ä–º–∏—Ç—å –¥–æ–º–µ–Ω</a>
        </div>
        <p class="lead" id="domain-cta-status" style="margin-top:8px">–î–æ–º–µ–Ω –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω –Ω–∞ 24 —á–∞—Å–∞ –∏ –æ–∂–∏–¥–∞–µ—Ç –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è.</p>
        <div class="card" style="margin-top:var(--space-3)" aria-label="–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ç–∞–π–º–µ—Ä–∞">
          <div class="deadline-badge" id="deadlineBadge">
            <div class="deadline-value" id="deadlineValue">24:00:00</div>
          </div>
        </div>
      </div>
      <div class="hero-art" aria-label="–í–∏–∑—É–∞–ª—å–Ω—ã–π –±–ª–æ–∫ –¥–æ–º–µ–Ω–∞">
        <div style="padding:var(--space-4);text-align:center">
          <div class="tag" style="margin-bottom:var(--space-2)">–î–æ–º–µ–Ω .–†–£–°</div>
          <div style="font-size:clamp(24px,4vw,42px);font-weight:700"><span data-user-domain>{{user_domain}}</span></div>
          <p class="lead" style="margin-top:var(--space-2)">–ó–∞–ø–æ–º–∏–Ω–∞—é—â–∏–π—Å—è –∞–¥—Ä–µ—Å –¥–ª—è –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.</p>
        </div>
      </div>
    </section>

    <section class="wrap" id="benefits" aria-labelledby="benefits-title">
      <h2 class="section-title" id="benefits-title">–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –¥–æ–º–µ–Ω–∞ .–†–£–°</h2>
      <div class="cards-6">
        <article class="card">
          <span class="material-symbols-outlined" aria-hidden="true">public</span>
          <h3>–õ–æ–∫–∞–ª—å–Ω–∞—è –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å</h3>
          <p>–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–≤—è–∑—å —Å —Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–µ–π.</p>
        </article>
        <article class="card">
          <span class="material-symbols-outlined" aria-hidden="true">verified</span>
          <h3>–î–æ–≤–µ—Ä–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</h3>
          <p>–î–æ–º–µ–Ω —Å –ø–æ–Ω—è—Ç–Ω—ã–º –æ–∫–æ–Ω—á–∞–Ω–∏–µ–º –≤—ã–∑—ã–≤–∞–µ—Ç —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å.</p>
        </article>
        <article class="card">
          <span class="material-symbols-outlined" aria-hidden="true">search</span>
          <h3>–•–æ—Ä–æ—à–∞—è –∑–∞–º–µ—Ç–Ω–æ—Å—Ç—å</h3>
          <p>–ü—Ä–æ—Å—Ç–æ–π –¥–æ–º–µ–Ω –ª–µ–≥—á–µ –∑–∞–ø–æ–º–Ω–∏—Ç—å –∏ –Ω–∞–π—Ç–∏.</p>
        </article>
        <article class="card">
          <span class="material-symbols-outlined" aria-hidden="true">security</span>
          <h3>–ó–∞—â–∏—Ç–∞ –±—Ä–µ–Ω–¥–∞</h3>
          <p>–ó–∞–∫—Ä–µ–ø–ª—è–µ—Ç –≤–∞—à –ø—Ä–æ–µ–∫—Ç –≤ —Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω–æ–π –∑–æ–Ω–µ.</p>
        </article>
        <article class="card">
          <span class="material-symbols-outlined" aria-hidden="true">support</span>
          <h3>–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ</h3>
          <p>–ü–æ–º–æ–≥–∞–µ–º —Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–µ–π –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º.</p>
        </article>
      </div>
    </section>

    <section class="wrap" id="visual" aria-labelledby="visual-title">
      <h2 class="section-title" id="visual-title">–ö–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç –≤–∞—à –¥–æ–º–µ–Ω</h2>
      <div class="grid">
        <div class="card">
          <h3><span data-user-domain>{{user_domain}}</span></h3>
          <p>–î–æ–º–µ–Ω –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –Ω–∞ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö, –≤ –ø–∏—Å—å–º–∞—Ö –∏ –≤ —Å—Å—ã–ª–∫–∞—Ö –Ω–∞ –≤–∞—à —Å–µ—Ä–≤–∏—Å.</p>
        </div>
        <div class="card" aria-hidden="true" style="display:flex;align-items:center;justify-content:center">
          <div style="font-size:clamp(22px,4vw,40px);font-weight:700"><span data-user-domain>{{user_domain}}</span></div>
        </div>
      </div>
    </section>

    <section class="wrap" id="includes" aria-labelledby="includes-title">
      <h2 class="section-title" id="includes-title">–ß—Ç–æ –≤—Ö–æ–¥–∏—Ç –≤ —É—Å–ª—É–≥—É</h2>
      <div class="card">
        <ul>
          <li>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –¥–æ–º–µ–Ω–∞</li>
          <li>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ</li>
          <li>–ü–æ–¥–¥–µ—Ä–∂–∫–∞</li>
          <li>–ü—Ä–∏–≤—è–∑–∫–∞ –∫ –ø—Ä–æ—Ñ–∏–ª—é UpgradeFor</li>
          <li>–ë–µ–∑ —Å–∫—Ä—ã—Ç—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π</li>
          <li>–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞</li>
          <li>–†–∞–±–æ—Ç–∞–µ–º –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ</li>
        </ul>
      </div>
    </section>

    <section class="wrap" id="form" aria-labelledby="form-title">
      <h2 class="section-title" id="form-title">–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É</h2>
      <p class="lead">–ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–∞–Ω–Ω—ã–µ —Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –¥–æ–º–µ–Ω–∞. –ù–∏–∫–∞–∫–æ–≥–æ —Å–ø–∞–º–∞. –í—ã –ø–æ–ª—É—á–∏—Ç–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ email.</p>
      <p class="lead" id="form-status" hidden>–°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è —Å—Å—ã–ª–∫–∏ –∏—Å—Ç—ë–∫. –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞—è–≤–∫–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞.</p>
      <form class="card" aria-label="–§–æ—Ä–º–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ–º–µ–Ω–∞">
        <div class="grid" style="margin-bottom:var(--space-3)">
          <div>
            <label for="first-name"><strong>–ò–º—è</strong></label>
            <input id="first-name" name="first-name" type="text" placeholder="–ò–º—è" style="width:100%;padding:12px;border-radius:12px;border:1px solid var(--line);margin-top:8px">
            <p class="lead" data-error-for="first-name" hidden>–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–ª–µ</p>
          </div>
          <div>
            <label for="last-name"><strong>–§–∞–º–∏–ª–∏—è</strong></label>
            <input id="last-name" name="last-name" type="text" placeholder="–§–∞–º–∏–ª–∏—è" style="width:100%;padding:12px;border-radius:12px;border:1px solid var(--line);margin-top:8px">
            <p class="lead" data-error-for="last-name" hidden>–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–ª–µ</p>
          </div>
        </div>
        <div class="grid" style="margin-bottom:var(--space-3)">
          <div>
            <label for="middle-name"><strong>–û—Ç—á–µ—Å—Ç–≤–æ</strong></label>
            <input id="middle-name" name="middle-name" type="text" placeholder="–û—Ç—á–µ—Å—Ç–≤–æ" style="width:100%;padding:12px;border-radius:12px;border:1px solid var(--line);margin-top:8px">
          </div>
          <div>
            <label for="email"><strong>Email</strong></label>
            <input id="email" name="email" type="email" placeholder="Email" style="width:100%;padding:12px;border-radius:12px;border:1px solid var(--line);margin-top:8px">
            <p class="lead" data-error-for="email" hidden>–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–ª–µ</p>
          </div>
        </div>
        <button class="btn" type="submit" data-cta-button="submit" data-event="form_submit" data-domain="{{user_domain}}">–ü–æ–ª—É—á–∏—Ç—å –º–æ–π –¥–æ–º–µ–Ω</button>
        <div class="card" id="form-success" hidden style="margin-top:var(--space-3)">
          <p style="margin:0"><strong>–ó–∞—è–≤–∫–∞ –ø—Ä–∏–Ω—è—Ç–∞ ‚úÖ</strong></p>
          <p style="margin:8px 0 0">–ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.</p>
        </div>
      </form>
    </section>

    <section class="wrap" id="faq" aria-labelledby="faq-title">
      <h2 class="section-title" id="faq-title">FAQ</h2>
      <div style="display:grid;gap:var(--gap)">
        <details class="card">
          <summary>–ö–∞–∫ –±—ã—Å—Ç—Ä–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –¥–æ–º–µ–Ω–∞?</summary>
          <p>–ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∑–∞—è–≤–∫–∏ –¥–æ–º–µ–Ω —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Å—Ä–æ–∫–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.</p>
        </details>
        <details class="card">
          <summary>–ú–æ–≥—É –ª–∏ —è —Å–º–µ–Ω–∏—Ç—å –¥–æ–º–µ–Ω –ø–æ–∑–∂–µ?</summary>
          <p>–î–∞, –≤ –±—É–¥—É—â–µ–º –º–æ–∂–Ω–æ –æ—Ñ–æ—Ä–º–∏—Ç—å –¥—Ä—É–≥–æ–π –¥–æ–º–µ–Ω –∏ –ø–µ—Ä–µ–Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–∏–≤—è–∑–∫—É.</p>
        </details>
        <details class="card">
          <summary>–ù—É–∂–Ω–æ –ª–∏ —á—Ç–æ-—Ç–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ?</summary>
          <p>–ú—ã –±–µ—Ä—ë–º –Ω–∞ —Å–µ–±—è –Ω–∞—Å—Ç—Ä–æ–π–∫—É –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –≤–∞—à–µ–º—É –ø—Ä–æ—Ñ–∏–ª—é.</p>
        </details>
        <details class="card">
          <summary>–ß—Ç–æ –±—É–¥–µ—Ç, –µ—Å–ª–∏ –Ω–µ —É—Å–ø–µ—Ç—å –∑–∞ 24 —á–∞—Å–∞?</summary>
          <p>–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ—Å–º–æ—Ç—Ä–µ–Ω–æ, –∏ –¥–æ–º–µ–Ω —Å—Ç–∞–Ω–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –¥—Ä—É–≥–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º.</p>
        </details>
        <details class="card">
          <summary>–ì–¥–µ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–æ–º–µ–Ω?</summary>
          <p>–í —Å—Å—ã–ª–∫–∞—Ö, –ø–∏—Å—å–º–∞—Ö, –ø—Ä–æ—Ñ–∏–ª–µ –∏ –ø—É–±–ª–∏—á–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.</p>
        </details>
        <details class="card">
          <summary>–ú–æ–∂–Ω–æ –ª–∏ –ø–æ–ª—É—á–∏—Ç—å –ø–æ–º–æ—â—å –ø–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏?</summary>
          <p>–î–∞, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–∫–ª—é—á–µ–Ω–∞ –≤ —É—Å–ª—É–≥—É –∏ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞.</p>
        </details>
      </div>
    </section>

    <section class="wrap" id="final-cta" aria-labelledby="final-cta-title">
      <div class="card">
        <h2 class="section-title" id="final-cta-title">–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ 24 —á–∞—Å–∞</h2>
        <p class="lead" id="expiry-text">–ú—ã —Ä–µ–∑–µ—Ä–≤–∏—Ä—É–µ–º –¥–æ–º–µ–Ω <span data-user-domain>{{user_domain}}</span> –Ω–∞ 24 —á–∞—Å–∞, —á—Ç–æ–±—ã –≤—ã –º–æ–≥–ª–∏ –ø—Ä–∏–Ω—è—Ç—å —Ä–µ—à–µ–Ω–∏–µ –±–µ–∑ —Å–ø–µ—à–∫–∏. –ü–æ—Å–ª–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è —Å—Ä–æ–∫–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–æ–∑–≤–∞–Ω–æ.</p>
        <a class="btn" href="#form" style="margin-top:var(--space-3)" data-cta-link="secondary">–û—Ñ–æ—Ä–º–∏—Ç—å –¥–æ–º–µ–Ω</a>
        <a class="btn btn--ghost" href="/signup" data-expired-link hidden data-event="request_new_link" style="margin-top:var(--space-2)">–ó–∞–ø—Ä–æ—Å–∏—Ç—å –Ω–æ–≤—É—é —Å—Å—ã–ª–∫—É</a>
      </div>
    </section>
  </main>

  <script>
    (function() {
      var params = new URLSearchParams(window.location.search);
      var token = params.get('t');
      var currentToken = token || '';
      var nameParam = params.get('name');
      var domainParam = params.get('domain');
      var expiresParam = params.get('expires');
      var userName = nameParam || '–¥—Ä—É–≥';
      var userDomain = domainParam || '–≤–∞—à-–¥–æ–º–µ–Ω.—Ä—É—Å';

      if (!nameParam && !domainParam && token) {
        userName = '–¥—Ä—É–≥';
        userDomain = '–≤–∞—à-–¥–æ–º–µ–Ω.—Ä—É—Å';
      }

      document.querySelectorAll('[data-user-name]').forEach(function(node) {
        node.textContent = userName;
      });
      document.querySelectorAll('[data-user-domain]').forEach(function(node) {
        node.textContent = userDomain;
      });
      var countdownEl = document.getElementById('deadlineValue');
      var countdownBadge = document.getElementById('deadlineBadge');
      var expiryText = document.getElementById('expiry-text');
      var expiredLink = document.querySelector('[data-expired-link]');
      var formStatus = document.getElementById('form-status');
      var domainStatus = document.getElementById('domain-status');
      var domainCtaStatus = document.getElementById('domain-cta-status');
      var ctaLinks = document.querySelectorAll('[data-cta-link]');
      var ctaButton = document.querySelector('[data-cta-button]');
      var form = document.querySelector('form');
      var formSuccess = document.getElementById('form-success');
      var formFields = form ? form.querySelectorAll('input') : [];
      var storageKey = 'fio-rus-expires-at';
      var sentKey = 'domain_request_sent';
      var expiresAt;
      if (ctaButton) {
        ctaButton.setAttribute('data-domain', userDomain);
      }
      var isExpired = false;
      var isSent = localStorage.getItem(sentKey) === 'true';

      if (expiresParam) {
        var parsedDate = new Date(expiresParam);
        if (!isNaN(parsedDate)) {
          expiresAt = parsedDate;
          localStorage.setItem(storageKey, parsedDate.toISOString());
        }
      }

      if (!expiresAt) {
        var storedExpires = localStorage.getItem(storageKey);
        if (storedExpires) {
          var storedDate = new Date(storedExpires);
          if (!isNaN(storedDate)) {
            expiresAt = storedDate;
          }
        }
      }

      if (!expiresAt) {
        var now = new Date();
        expiresAt = new Date(now.getTime() + 24 * 60 * 60 * 1000);
        localStorage.setItem(storageKey, expiresAt.toISOString());
      }

      function disableForm() {
        if (formStatus) {
          formStatus.hidden = false;
        }
        formFields.forEach(function(field) {
          field.setAttribute('disabled', 'disabled');
        });
        if (ctaButton) {
          ctaButton.setAttribute('disabled', 'disabled');
        }
      }

      function disableCtas() {
        ctaLinks.forEach(function(link) {
          link.setAttribute('aria-disabled', 'true');
          link.setAttribute('tabindex', '-1');
        });
        if (ctaButton) {
          ctaButton.setAttribute('disabled', 'disabled');
        }
      }

      function setExpiredState() {
        isExpired = true;
        if (countdownEl) {
          countdownEl.textContent = '00:00:00';
        }
        if (countdownBadge) {
          countdownBadge.classList.remove('deadline-urgent');
          countdownBadge.classList.add('expired');
        }
        if (expiryText) {
          expiryText.textContent = '–°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è —Å—Å—ã–ª–∫–∏ –∏—Å—Ç—ë–∫. –ó–∞–ø—Ä–æ—Å–∏—Ç–µ –Ω–æ–≤—É—é —Å—Å—ã–ª–∫—É, —á—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å.';
        }
        if (domainStatus) {
          domainStatus.textContent = 'üî¥ –°—Ä–æ–∫ —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å—Ç—ë–∫';
        }
        if (domainCtaStatus) {
          domainCtaStatus.textContent = '–°—Ä–æ–∫ —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å—Ç—ë–∫.';
        }
        if (expiredLink) {
          expiredLink.hidden = false;
        }
        disableCtas();
        disableForm();
      }

      function setDomainMissingState() {
        if (domainStatus) {
          domainStatus.textContent = 'üî¥ –î–æ–º–µ–Ω –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω ‚Äî —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞';
        }
        if (domainCtaStatus) {
          domainCtaStatus.textContent = '–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—É—é —Å—Å—ã–ª–∫—É –¥–ª—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –¥–æ–º–µ–Ω–∞.';
        }
        disableCtas();
      }

      function setActiveState() {
        if (domainStatus) {
          domainStatus.textContent = 'üü¢ –î–æ–º–µ–Ω –¥–æ—Å—Ç—É–ø–µ–Ω –∏ –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω –∑–∞ –≤–∞–º–∏';
        }
        if (domainCtaStatus) {
          domainCtaStatus.textContent = '–î–æ–º–µ–Ω –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω –Ω–∞ 24 —á–∞—Å–∞ –∏ –æ–∂–∏–¥–∞–µ—Ç –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è.';
        }
      }

      function setSentState() {
        if (formStatus) {
          formStatus.textContent = '–ó–∞—è–≤–∫–∞ —É–∂–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞.';
          formStatus.hidden = false;
        }
        if (domainCtaStatus) {
          domainCtaStatus.textContent = '–ó–∞—è–≤–∫–∞ —É–∂–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞.';
        }
        disableCtas();
        disableForm();
      }

      function formatTime(ms) {
        var totalSeconds = Math.max(0, Math.floor(ms / 1000));
        var hours = Math.floor(totalSeconds / 3600);
        var minutes = Math.floor((totalSeconds % 3600) / 60);
        var seconds = totalSeconds % 60;
        return String(hours).padStart(2, '0') + ':' + String(minutes).padStart(2, '0') + ':' + String(seconds).padStart(2, '0');
      }

      function tick() {
        if (isSent) {
          return;
        }
        var now = new Date();
        var remaining = expiresAt - now;
        if (remaining <= 0) {
          setExpiredState();
          return;
        }
        if (countdownEl) {
          countdownEl.textContent = formatTime(remaining);
        }
        if (countdownBadge) {
          countdownBadge.classList.remove('expired');
          if (remaining <= 60 * 60 * 1000) {
            countdownBadge.classList.add('deadline-urgent');
          } else {
            countdownBadge.classList.remove('deadline-urgent');
          }
        }
      }

      tick();
      var interval = setInterval(function() {
        if (isSent) {
          clearInterval(interval);
          return;
        }
        if (new Date() > expiresAt) {
          clearInterval(interval);
          setExpiredState();
          return;
        }
        tick();
      }, 1000);

      if (isSent) {
        setSentState();
      } else if (userDomain === '–≤–∞—à-–¥–æ–º–µ–Ω.—Ä—É—Å') {
        setDomainMissingState();
      } else {
        setActiveState();
      }

      ctaLinks.forEach(function(link) {
        link.addEventListener('click', function(event) {
          if (link.getAttribute('aria-disabled') === 'true') {
            event.preventDefault();
            return;
          }
          var firstNameField = document.getElementById('first-name');
          if (firstNameField) {
            setTimeout(function() {
              firstNameField.focus();
            }, 0);
          }
        });
      });

      function setFieldError(field, message) {
        var errorEl = document.querySelector('[data-error-for="' + field.id + '"]');
        if (errorEl) {
          errorEl.textContent = message;
          errorEl.hidden = false;
        }
        field.setAttribute('aria-invalid', 'true');
        field.style.borderColor = '#ef4444';
      }

      function clearFieldError(field) {
        var errorEl = document.querySelector('[data-error-for="' + field.id + '"]');
        if (errorEl) {
          errorEl.hidden = true;
        }
        field.removeAttribute('aria-invalid');
        field.style.borderColor = 'var(--line)';
      }

      function validateEmail(value) {
        return value.indexOf('@') > 0 && value.indexOf('.') > 0;
      }

      if (form) {
        form.addEventListener('submit', function(event) {
          event.preventDefault();
          if (isExpired) {
            disableForm();
            return;
          }

          var firstName = document.getElementById('first-name');
          var lastName = document.getElementById('last-name');
          var email = document.getElementById('email');
          var middleName = document.getElementById('middle-name');
          var isValid = true;

          [firstName, lastName, email].forEach(function(field) {
            if (!field) {
              return;
            }
            if (!field.value.trim()) {
              setFieldError(field, '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–ª–µ');
              isValid = false;
            } else {
              clearFieldError(field);
            }
          });

          if (email && email.value.trim() && !validateEmail(email.value.trim())) {
            setFieldError(email, '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–ª–µ');
            isValid = false;
          }

          if (!isValid) {
            return;
          }

          var payload = {
            name: firstName ? firstName.value.trim() : '',
            lastName: lastName ? lastName.value.trim() : '',
            middleName: middleName ? middleName.value.trim() : '',
            email: email ? email.value.trim() : '',
            domain: userDomain,
            token: currentToken,
            expiresAt: expiresAt ? expiresAt.toISOString() : '',
            source: 'domain-rus-landing'
          };

          if (ctaButton) {
            ctaButton.setAttribute('disabled', 'disabled');
          }

          fetch('/api/domain-request', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json'
            },
            body: JSON.stringify(payload)
          })
            .then(function(response) {
              if (response.status === 410) {
                if (formStatus) {
                  formStatus.textContent = '–°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è —Å—Å—ã–ª–∫–∏ –∏—Å—Ç—ë–∫. –ó–∞–ø—Ä–æ—Å–∏—Ç–µ –Ω–æ–≤—É—é —Å—Å—ã–ª–∫—É.';
                  formStatus.hidden = false;
                }
                setExpiredState();
                return null;
              }
              if (response.status === 409) {
                if (formStatus) {
                  formStatus.textContent = '–ó–∞—è–≤–∫–∞ —É–∂–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞.';
                  formStatus.hidden = false;
                }
                return null;
              }
              if (!response.ok) {
                if (formStatus) {
                  formStatus.textContent = '–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.';
                  formStatus.hidden = false;
                }
                return null;
              }
              return response.json();
            })
            .then(function(data) {
              if (!data || data.status !== 'ok') {
                if (ctaButton) {
                  ctaButton.removeAttribute('disabled');
                }
                return;
              }
              if (ctaButton) {
                ctaButton.hidden = true;
              }
              if (formSuccess) {
                formSuccess.hidden = false;
              }
              localStorage.setItem(sentKey, 'true');
            })
            .catch(function() {
              if (formStatus) {
                formStatus.textContent = '–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.';
                formStatus.hidden = false;
              }
              if (ctaButton) {
                ctaButton.removeAttribute('disabled');
              }
            });
        });
      }
    })();
  </script>
  <script src="/assets/load-layout.js"></script>
</body>
</html>
