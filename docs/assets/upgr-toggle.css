
/* UpgradeFor — universal menu toggle (30% smaller variant)
   Brand cyan: #0ec5ff; Ink: #0f172a */
:root{
  --upgr-brand: #0ec5ff;          /* фирменный голубой */
  --upgr-ink: #0f172a;            /* тёмный текст/иконки */
  --upgr-toggle-size: 38px;       /* габарит кнопки (уменьшено на ~30%) */
  --upgr-toggle-radius: 8px;      /* скругление */
  --upgr-toggle-border: 2px;      /* толщина рамки */
  --upgr-stroke: 2px;             /* толщина линий */
  --upgr-h-gap: 3px;              /* расстояние между горизонталями */
  --upgr-v-gap: 4px;              /* зазор между горизонталями и вертикалью */
  --upgr-v-width: 2px;            /* ширина вертикальной */
  --upgr-v-height: 76%;           /* высота вертикальной */
  --upgr-nudge-y: -1px;           /* лёгкий подъём блока горизонталей */
}

/* Кнопка-контейнер */
.upgr-menu-toggle{
  position: fixed; left: 16px; top: 16px; z-index: 1000;
  width: var(--upgr-toggle-size); height: var(--upgr-toggle-size);
  display: grid; place-items: center;
  border-radius: var(--upgr-toggle-radius);
  border: var(--upgr-toggle-border) solid var(--upgr-brand);
  background: #fff;
  padding: 0; margin: 0; cursor: pointer;
  box-shadow: 0 3px 10px rgba(15,23,42,.06);
}
.upgr-menu-toggle:focus-visible{
  outline: 3px solid color-mix(in srgb, var(--upgr-brand) 50%, transparent);
  outline-offset: 2px;
}

/* Внутренние иконки */
.upgr-icon-burger, .upgr-icon-close{
  position: relative; width: 68%; height: 68%; display: grid; place-items: center;
}
.upgr-icon-close{ display: none; }

/* Группа горизонталей + вертикальная черта */
.upgr-icon-burger .hlines{
  position: relative; display: flex; flex-direction: column; justify-content: center;
  gap: var(--upgr-h-gap); transform: translateY(var(--upgr-nudge-y));
}
.upgr-icon-burger .hlines i{
  display: block; height: var(--upgr-stroke); width: 14px;
  background: var(--upgr-ink); border-radius: 2px;
}
.upgr-icon-burger .divider{
  width: var(--upgr-v-width); height: var(--upgr-v-height);
  background: var(--upgr-brand); border-radius: 2px;
  margin-left: var(--upgr-v-gap);
}

/* Макет: горизонтали слева, вертикальная справа (с зазором) */
.upgr-icon-burger{ display: inline-flex; align-items: center; }
.upgr-icon-burger .hlines + .divider{ display: inline-block; }

/* Крестик — строго по центру */
.upgr-icon-close::before,
.upgr-icon-close::after{
  content: ""; position: absolute; left: 50%; top: 50%;
  width: 20px; height: var(--upgr-stroke); background: var(--upgr-ink); border-radius: 2px;
  transform-origin: center; transform: translate(-50%,-50%) rotate(45deg);
}
.upgr-icon-close::after{ transform: translate(-50%,-50%) rotate(-45deg); }

/* Переключение иконок по состоянию */
.upgr-menu-toggle[aria-expanded="true"] .upgr-icon-burger{ display: none; }
.upgr-menu-toggle[aria-expanded="true"] .upgr-icon-close{ display: block; }

/* Бэкдроп */
.upgr-backdrop{
  position: fixed; inset: 0; background: rgba(15,23,42,.4);
  backdrop-filter: blur(1.5px);
  opacity: 0; pointer-events: none; transition: opacity .2s ease;
  z-index: 999;
}
body.upgr-menu-open .upgr-backdrop{ opacity: 1; pointer-events: auto; }

/* Не даём кнопке «уползти» за край на узких экранах */
@media (max-width:480px){
  .upgr-menu-toggle{ left: 12px; top: 12px; }
}
